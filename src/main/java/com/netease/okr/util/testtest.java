package com.netease.okr.util;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.LinkedList;
import java.util.List;

public class testtest {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String inFile = "E:/hj/out"; // 输入文件路径
        String outFile = "E:/hj/outsame/"; // 输出文件路径
		
		
		traverseFolder1(inFile,outFile);
	}
	
	 public static void copyFile(String oldPath, String newPath) { 
	       try { 
	           int bytesum = 0; 
	           int byteread = 0; 
	           File oldfile = new File(oldPath); 
	           if (oldfile.exists()) {                  //文件存在时 
	               InputStream inStream = new FileInputStream(oldPath);      //读入原文件 
	               FileOutputStream fs = new FileOutputStream(newPath); 
	               byte[] buffer = new byte[1444]; 
	               int length; 
	               while ( (byteread = inStream.read(buffer)) != -1) { 
	                   bytesum += byteread;            //字节数 文件大小 
	                   System.out.println(bytesum); 
	                   fs.write(buffer, 0, byteread); 
	               } 
	               inStream.close(); 
	           } 
	       }  catch (Exception e) { 
	           System.out.println("复制单个文件操作出错"); 
	           e.printStackTrace(); 
	       } 
	   } 
	
	
	public static void  traverseFolder1(String path,String outfile ) {
        int fileNum = 0, folderNum = 0,notConNum = 0,copeNum = 0;
        File file = new File(path);
        if (file.exists()) {
            LinkedList<File> list = new LinkedList<File>();
            File[] files = file.listFiles();
            for (File file2 : files) {
                if (file2.isDirectory()) {
                    System.out.println("文件夹:" + file2.getAbsolutePath());
                    list.add(file2);
                    fileNum++;
                } else {
                	if(isContain(file2.getName())){
                		copyFile(file2.getAbsolutePath(),outfile+file2.getName());
                		file2.delete();
                		copeNum++;
                	}else{
                		System.out.println("文件:" + file2.getName()+"不在表格工号中");
                		notConNum++;
                	}
                	
                    
                    folderNum++;
                }
            }
            /*File temp_file;
            while (!list.isEmpty()) {
                temp_file = list.removeFirst();
                files = temp_file.listFiles();
                for (File file2 : files) {
                    if (file2.isDirectory()) {
                        System.out.println("文件夹:" + file2.getAbsolutePath());
                        list.add(file2);
                        fileNum++;
                    } else {
                        System.out.println("文件:" + file2.getAbsolutePath());
                        folderNum++;
                    }
                }
            }*/
        } else {
            System.out.println("文件不存在!");
        }
        System.out.println("文件夹共有:" + folderNum + ",文件共有:" + fileNum+",excel不包含工号数："+notConNum+",成功复制数："+copeNum);

    }
	
	private static boolean isContain(String str){
		List<String> lst = getList();
		
		for(int i=0;i<lst.size();i++){
			String constr = lst.get(i);
			if(str.contains(constr)){
				return true;
			}
		}
		
		return false;
	};
	
	
	private static List<String>  getList(){
		return new ArrayList<String>(Arrays.asList(
				"H2100",
				"H2101",
				"H2102",
				"H2103",
				"H2104",
				"H2105",
				"H2106",
				"H2107",
				"H2108",
				"H2109",
				"H2110",
				"H2111",
				"H2112",
				"H2113",
				"H2114",
				"H2115",
				"H2117",
				"H2118",
				"H2119",
				"H2120",
				"H2121",
				"H2122",
				"H2123",
				"H2124",
				"H2125",
				"H2126",
				"H2127",
				"H2128",
				"H2129",
				"H2130",
				"H2131",
				"H2132",
				"H2133",
				"H2134",
				"H2135",
				"H2136",
				"H2137",
				"H2138",
				"H2139",
				"H2140",
				"H2141",
				"H2142",
				"H2143",
				"H2144",
				"H2145",
				"H2146",
				"H2147",
				"H2148",
				"H2149",
				"H2150",
				"H2151",
				"H2152",
				"H2153",
				"H2154",
				"H2155",
				"H2156",
				"H2157",
				"H2158",
				"H2159",
				"H2160",
				"H2161",
				"H2162",
				"H2163",
				"H2164",
				"H2165",
				"H2166",
				"H2167",
				"H2168",
				"H2169",
				"H2170",
				"H2171",
				"H2172",
				"H2173",
				"H2174",
				"H2175",
				"H2176",
				"H2177",
				"H2178",
				"H2179",
				"H2180",
				"H2181",
				"H2182",
				"H2183",
				"H2184",
				"H2185",
				"H2186",
				"H2187",
				"H2188",
				"H2189",
				"H2190",
				"H2191",
				"H2192",
				"H2193",
				"H2194",
				"H2195",
				"H2196",
				"H2197",
				"H2198",
				"H2199",
				"H2200",
				"H2201",
				"H2202",
				"H2203",
				"H2204",
				"H2205",
				"H2206",
				"H2207",
				"H2208",
				"H2209",
				"H2210",
				"H2211",
				"H2212",
				"H2213",
				"H2214",
				"H2215",
				"H2216",
				"H2217",
				"H2218",
				"H2219",
				"H2220",
				"H2221",
				"H2223",
				"H2224",
				"H2225",
				"H2226",
				"H2227",
				"H2228",
				"H2229",
				"H2230",
				"H2231",
				"H2232",
				"H2233",
				"H2234",
				"H2235",
				"H2236",
				"H2237",
				"H2238",
				"H2239",
				"H2240",
				"H2241",
				"H2242",
				"H2243",
				"H2244",
				"H2245",
				"H2246",
				"H2247",
				"H2248",
				"H2249",
				"H2250",
				"H2251",
				"H2252",
				"H2253",
				"H2254",
				"H2255",
				"H2256",
				"H2257",
				"H2258",
				"H2259",
				"H2260",
				"H2261",
				"H2262",
				"H2263",
				"H2264",
				"H2265",
				"H2266",
				"H2267",
				"H2268",
				"H2269",
				"H2270",
				"H2271",
				"H2272",
				"H2273",
				"H2274",
				"H2275",
				"H2276",
				"H2277",
				"H2278",
				"H2279",
				"H2280",
				"H2281",
				"H2282",
				"H2283",
				"H2285",
				"H2286",
				"H2287",
				"H2289",
				"H2290",
				"H2291",
				"H2292",
				"H2293",
				"H2294",
				"H2295",
				"H2296",
				"H2297",
				"H2298",
				"H2299",
				"H2300",
				"H2301",
				"H2302",
				"H2303",
				"H2304",
				"H2305",
				"H2307",
				"H2309",
				"H2310",
				"H2311",
				"H2312",
				"H2313",
				"H2314",
				"H2315",
				"H2317",
				"H2318",
				"H2320",
				"H2321",
				"H2323",
				"H2324",
				"H2325",
				"H2326",
				"H2327",
				"H2328",
				"H2329",
				"H2330",
				"H2331",
				"H2332",
				"H2333",
				"H2334",
				"H2335",
				"H2336",
				"H2337",
				"H2338",
				"H2339",
				"H2340",
				"H2341",
				"H2342",
				"H2343",
				"H2344",
				"H2346",
				"H2347",
				"H2348",
				"H2349",
				"H2350",
				"H2351",
				"H2352",
				"H2353",
				"H2354",
				"H2356",
				"H2357",
				"H2358",
				"H2359",
				"H2360",
				"H2361",
				"H2362",
				"H2364",
				"H2365",
				"H2366",
				"H2368",
				"H2369",
				"H2370",
				"H2371",
				"H2372",
				"H2373",
				"H2374",
				"H2375",
				"H2376",
				"H2377",
				"H2378",
				"H2379",
				"H2380",
				"H2381",
				"H2382",
				"H2383",
				"H2384",
				"H2385",
				"H2386",
				"H2387",
				"H2388",
				"H2389",
				"H2390",
				"H2391",
				"H2392",
				"H2393",
				"H2394",
				"H2395",
				"H2396",
				"H2397",
				"H2398",
				"H2399",
				"H2400",
				"H2401",
				"H2402",
				"H2403",
				"H2404",
				"H2405",
				"H2406",
				"H2407",
				"H2408",
				"H2409",
				"H2410",
				"H2411",
				"H2412",
				"H2413",
				"H2414",
				"H2415",
				"H2416",
				"H2417",
				"H2418",
				"H2419",
				"H2420",
				"H2421",
				"H2422",
				"H2423",
				"H2424",
				"H2425",
				"H2426",
				"H2427",
				"H2428",
				"H2429",
				"H2431",
				"H2432",
				"H2433",
				"H2434",
				"H2435",
				"H2436",
				"H2437",
				"H2438",
				"H2439",
				"H2440",
				"H2441",
				"H2442",
				"H2443",
				"H2444",
				"H2445",
				"H2447",
				"H2448",
				"H2450",
				"H2451",
				"H2452",
				"H2453",
				"H2454",
				"H2455",
				"H2456",
				"H2457",
				"H2458",
				"H2459",
				"H2460",
				"H2461",
				"H2462",
				"H2463",
				"H2464",
				"H2466",
				"H2467",
				"H2468",
				"H2469",
				"H2471",
				"H2472",
				"H2474",
				"H2476",
				"H2477",
				"H2479",
				"H2480",
				"H2484",
				"H2485",
				"H2486",
				"H2487",
				"H2489",
				"H2490",
				"H2491",
				"H2492",
				"H2493",
				"H2494",
				"H2495",
				"H2496",
				"H2497",
				"H2498",
				"H2499",
				"H2500",
				"H2501",
				"H2502",
				"H2503",
				"H2504",
				"H2505",
				"H2506",
				"H2507",
				"H2508",
				"H2509",
				"H2510",
				"H2511",
				"H2512",
				"H2513",
				"H2514",
				"H2515",
				"H2517",
				"H2518",
				"H2519",
				"H2520",
				"H2521",
				"H2522",
				"H2523",
				"H2524",
				"H2525",
				"H2526",
				"H2527",
				"H2528",
				"H2529",
				"H2530",
				"H2531",
				"H2532",
				"H2533",
				"H2534",
				"H2535",
				"H2536",
				"H2538",
				"H2539",
				"H2540",
				"H2541",
				"H2542",
				"H2543",
				"H2546",
				"H2547",
				"H2548",
				"H2553",
				"H2554",
				"H2555",
				"H2556",
				"H2557",
				"H2558",
				"H2559",
				"H2561",
				"H2562",
				"H2563",
				"H2564",
				"H2565",
				"H2566",
				"H2567",
				"H2568",
				"H2569",
				"H2571",
				"H2572",
				"H2578",
				"H2584",
				"H2585",
				"H2586",
				"H2587",
				"H2588",
				"H2589",
				"H2590",
				"H2591",
				"H2592",
				"H2593",
				"H2594",
				"H2595",
				"H2596",
				"H2597",
				"H2598",
				"H2599",
				"H2600",
				"H2601",
				"H2602",
				"H2603",
				"H2604",
				"H2605",
				"H2606",
				"H2607",
				"H2608",
				"H2609",
				"H2610",
				"H2611",
				"H2612",
				"H2613",
				"H2614",
				"H2615",
				"H2616",
				"H2617",
				"H2618",
				"H2619",
				"H2620",
				"H2621",
				"H2622",
				"H2623",
				"H2624",
				"H2625",
				"H2626",
				"H2627",
				"H2628",
				"H2629",
				"H2630",
				"H2632",
				"H2634",
				"H2636",
				"H2637",
				"H2638",
				"H2639",
				"H2641",
				"H2642",
				"H2643",
				"H2644",
				"H2645",
				"H2646",
				"H2647",
				"H2648",
				"H2649",
				"H2650",
				"H2664",
				"H2701",
				"H2719",
				"H2730",
				"H2732",
				"H2733",
				"H2738",
				"H2740"
				));
		
	}
	
	
	
}
